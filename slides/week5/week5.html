<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Week 5</title>
<meta name="author" content="(Jason Gibson)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="https://robojackets.github.io/reveal.js/css/theme/white.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://robojackets.github.io/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Week 5</h1>
</section>

<section id="slide-org81ce336">
<h2 id="org81ce336">What are we doing today</h2>
<ul>
<li>Look at solutions from last week</li>
<li>GPS</li>
<li>Localization</li>

</ul>
<p>
&#x2013;Sensor models and statistics
</p>
</section>
<section id="slide-org81177a1">
<h2 id="org81177a1">Solutions from last week</h2>
</section>
<section id="slide-org0c9be6a">
<h2 id="org0c9be6a">GPS</h2>
<ul>
<li>Global positioning system</li>
<li>Created by the military</li>
<li>Triangulates postion based on multiple satellites
<ul>
<li>Relies on atomic clocks</li>
<li>satellites publish times and receivers use equation to find its position
<ul>
<li>Requires 4 satellites, typically want closer to 7</li>

</ul></li>

</ul></li>

</ul>
</section>
<section id="slide-org37781ce">
<h3 id="org37781ce">Filters and base stations</h3>
<ul>
<li>Make assumptions to correct for noise</li>
<li>Base station (RTK, real time kinematic)
<ul>
<li>Assumes it is not moving</li>
<li>Have two in parallel and use this one to correct for noise</li>
<li>Global base stations</li>
<li>Can get cm accuracy</li>

</ul></li>

</ul>
</section>
<section id="slide-org81699f7">
<h3 id="org81699f7">Almanacs</h3>
<ul>
<li>Where to look for the satellites
<ul>
<li>Estimated position over time stored</li>
<li>Check there first</li>

</ul></li>
<li>Based off of last location</li>

</ul>
</section>
<section id="slide-org63823ad">
<h3 id="org63823ad">Localization</h3>
<ul>
<li>Localization refers to the art of determining a robot's pose.</li>
<li>The simplest method is called dead reckoning</li>

</ul>
</section>
<section id="slide-org8a3f780">
<h3 id="org8a3f780">Dead Reckoning</h3>
<ul>
<li>Assume that the P(robot does what it is asked | we gave a command) = 1</li>
<li>We simply track our requested changes in state and sum them.</li>
<li>This suffers greatly from accumulated error.</li>
<li>Instead, we should incorporate information about our world through sensors</li>

</ul>
</section>
<section id="slide-org856a45b">
<h3 id="org856a45b">Sensors</h3>
<ul>
<li>Any tool we can use to incorporate new information about our world is a sensor</li>
<li>However, in general, these are unreliable.</li>
<li>By modeling their behavior, we can better represent the world</li>

</ul>
</section>
<section id="slide-org78e7084">
<h3 id="org78e7084">Bayes Theorem</h3>
<ul>
<li>X = observation</li>
<li>Z = evidence</li>
<li>P(x|z) = P(z|x)*P(X)/P(Z)</li>
<li>By controlling for the probability of erronous readings, we can model the world more effectively.</li>

</ul>
</section>
<section id="slide-orgee4087c">
<h3 id="orgee4087c">Law of total proabability</h3>
<ul>
<li>P(Z) = sum(P(Z|X) for X in problem space)</li>

</ul>
</section>
<section id="slide-org994d1de">
<h3 id="org994d1de">Sensor model</h3>
<ul>
<li>Consists of a probabilty distribution that gives us P(sensor|reality)</li>
<li>Either continous or discrete</li>

</ul>
</section>
<section id="slide-orge1aadca">
<h3 id="orge1aadca">Example</h3>
</section>
<section id="slide-org523be8f">
<h3 id="org523be8f">How do we update this information?</h3>
<ul>
<li>Given new sensor data, how can we calculate P(X|Z1, Z2,&#x2026;, ZN)?</li>

</ul>
</section>
<section id="slide-orga08e43f">
<h3 id="orga08e43f">Recursive Updating</h3>
<ul>
<li>P(X|Z1-&gt;ZN) = P(ZN|X, Z1-&gt;ZN-1)*P(X|Z1-&gt;ZN-1) / P(ZN|Z1-&gt;ZN-1)</li>
<li>This can be simplifed through the Markov Assumption</li>

</ul>
</section>
<section id="slide-org7a76738">
<h3 id="org7a76738">Markov Assumption</h3>
<ul>
<li>The past has no effect on the present, so P(ZN|X, Z1-&gt;ZN-1) = P(ZN|X)</li>

</ul>
</section>
<section id="slide-orgc98c24a">
<h3 id="orgc98c24a">Finally</h3>
<ul>
<li>P(X|Z1-&gt;ZN) = P(ZN|X)*P(X|Z1-&gt;ZN-1)/P(ZN)</li>
<li>This rule allows us to model our sensor's tendancy to be bad</li>

</ul>
</section>
<section id="slide-orgb70ec26">
<h3 id="orgb70ec26">Example</h3>
<ul>
<li>P(open) = P(closed) = .5</li>
<li>P(Z1|open) = .6</li>
<li>P(Z1|closed) = .3</li>
<li>P(open|Z1) = P(Z1|open)*P(open)/(P(Z1|open)*P(open) + P(Z1|closed)*P(closed))</li>
<li>= .67</li>
<li>P(closed|Z1) = 1-.67=.33</li>

</ul>
</section>
<section id="slide-org5f6c11a">
<h3 id="org5f6c11a">Example Cont.</h3>
<ul>
<li>P(open|Z1,Z2) = P(Z2|open)*P(open|Z1) / (P(Z2|open)*P(open) + P(Z2|closed)*P(closed))</li>
<li>P(open|Z1,Z2) = .8</li>

</ul>
</section>
<section id="slide-org23d6960">
<h3 id="org23d6960">Actions</h3>
<ul>
<li>Sensors give us confidence as described before</li>
<li>Actions cause us to lose confidence</li>

</ul>
</section>
<section id="slide-orgff0f486">
<h3 id="orgff0f486">Stochastic Movement</h3>
<ul>
<li>Robots typically don't do exactly what you want</li>

</ul>
</section>
<section id="slide-org31d6a6b">
<h3 id="org31d6a6b">Door Example, Again</h3>
<ul>
<li>P(open|Z1,Z2) = .8</li>
<li>P(open|open,push) = .1</li>
<li>P(open|closed,push) = 0</li>
<li>P(closed|closed,push) = 1</li>
<li>P(closed|open, push) = .9</li>

</ul>
</section>
<section id="slide-org4628da6">
<h3 id="org4628da6">Cont.</h3>
<ul>
<li>P(open|Z1,Z2, push) = P(open|open, push)*P(open|Z1,Z2) + P(open|closed, push)*P(closed|Z1,Z2)</li>

</ul>
<p>
&#x2013;	= .1*.8 + 0*.2 = .08
</p>
</section>
<section id="slide-org3b865b4">
<h3 id="org3b865b4">Big Takeaway</h3>
<ul>
<li>Through modeling sensors, we can accurately reflect our confidence gain</li>
<li>Through modeling actions, we can accurately reflect our conifdence loss</li>

</ul>
</section>
<section id="slide-orga8a45f6">
<h3 id="orga8a45f6">Revist Mapping</h3>
<ul>
<li>We use probabilistic occupancy grids, which mean we use statistics to model our confidence in what we sense and store these confidences in a grid.</li>

</ul>
</section>
<section id="slide-org4d08acb">
<h3 id="org4d08acb">Localization</h3>
<ul>
<li>Current solution: Kalman Filter</li>
<li>Proposed solution: Particle Filter</li>

</ul>
</section>
<section id="slide-org73d76af">
<h3 id="org73d76af">Particle Filters</h3>
<ul>
<li>Particles are proposed poses</li>
<li>Step one: initialze particles</li>
<li>Step two: Sense</li>
<li>Step three: Weight particles based on their quality based on sensor model</li>
<li>Step four: Resample particles with replacement</li>
<li>Step five: Move and apply motion update based on action model</li>
<li>Step six: Repeat</li>

</ul>
</section>
<section id="slide-org773829e">
<h3 id="org773829e">Challenges</h3>
<ul>
<li>Landmark detection</li>
<li>Sensor model</li>
<li>Action model</li>

</ul>
</section>
<section id="slide-org2a1ce98">
<h3 id="org2a1ce98">Kalman Filters</h3>
<ul>
<li>Assumes all noise is gaussain and filters sensor readings based on that</li>
<li>Essentially combines an old and new distribution to get a new mean and variance and builds a estimated distribution with those</li>
<li>Relies on tuned covariance parameters that are used to determine how sensor readings vary with respect to one another</li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://robojackets.github.io/reveal.js/lib/js/head.min.js"></script>
<script src="https://robojackets.github.io/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: false,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
overview: true,
width: 1440,
height: 800,
margin: 0.15,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'fast',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://robojackets.github.io/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
]
});
</script>
</body>
</html>
